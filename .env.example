# ===========================================
# LoanWise Pro - Environment Configuration
# ===========================================
# Copy this file to .env and update values
# NEVER commit .env to version control!

# ==============================================
# Application Settings
# ==============================================
APP_NAME=LoanWise Pro
APP_ENV=development
DEBUG=true
ENVIRONMENT=development

# ==============================================
# API Settings
# ==============================================
API_V1_PREFIX=/api/v1
API_HOST=0.0.0.0
API_PORT=8000

# ==============================================
# CORS Settings (comma-separated origins)
# ==============================================
CORS_ORIGINS=https://localhost:3000,https://localhost:8501
CORS_CREDENTIALS=true
CORS_MAX_AGE=600

# ==============================================
# Database - PostgreSQL
# ==============================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=loanwise
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_ECHO=false

# Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ==============================================
# JWT Authentication - CRITICAL: Change in production!
# ==============================================
# IMPORTANT: Generate a secure secret key!
# Python: import secrets; print(secrets.token_urlsafe(64))
JWT_SECRET_KEY=your-super-secret-key-change-in-production-min-64-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ISSUER=loanwise-pro
JWT_AUDIENCE=loanwise-api
JWT_BLACKLIST_ENABLED=true
JWT_REFRESH_ROTATION=true

# ==============================================
# Password Security
# ==============================================
PASSWORD_MIN_LENGTH=12
PASSWORD_BCRYPT_ROUNDS=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_MAX_AGE_DAYS=90

# ==============================================
# HTTPS/TLS Configuration
# ==============================================
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/server.crt
SSL_KEY_PATH=/etc/ssl/private/server.key
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000

# ==============================================
# Security Headers
# ==============================================
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=strict-origin-when-cross-origin
CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self'; frame-ancestors 'none'

# ==============================================
# Rate Limiting
# ==============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60
RATE_LIMIT_BURST=20
AUTH_RATE_LIMIT_PM=10

# Account Lockout
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_MINUTES=30
PROGRESSIVE_LOCKOUT=true

# ==============================================
# IP Management (comma-separated)
# ==============================================
# IP_WHITELIST=
# IP_BLACKLIST=
TRUSTED_PROXIES=127.0.0.1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# ==============================================
# Session Security
# ==============================================
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Strict

# ==============================================
# Input Validation
# ==============================================
MAX_REQUEST_SIZE=10485760
ALLOWED_CONTENT_TYPES=application/json,multipart/form-data

# ==============================================
# Logging & PII Protection
# ==============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/app.log
AUDIT_LOGGING_ENABLED=true
PII_REDACTION_ENABLED=true
LOG_SENSITIVE_DATA=false

# ==============================================
# Email Settings (for notifications)
# ==============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@loanwise.pro
SMTP_TLS=true

# ==============================================
# ML Model Settings
# ==============================================
MODEL_PATH=models/loan_model.pkl
MODEL_VERSION=1.0.0

# ==============================================
# File Storage
# ==============================================
UPLOAD_DIR=uploads
MAX_UPLOAD_SIZE_MB=10
ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png

# ==============================================
# Feature Flags
# ==============================================
FEATURE_ML_PREDICTIONS=true
FEATURE_EMAIL_NOTIFICATIONS=false
FEATURE_SMS_NOTIFICATIONS=false

